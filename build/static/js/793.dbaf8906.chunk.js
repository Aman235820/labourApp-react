"use strict";(self.webpackChunklabour_app_react=self.webpackChunklabour_app_react||[]).push([[793],{3079:(e,s,a)=>{a.d(s,{D:()=>r});var t=a(9722);const n="".concat("http://localhost:4000","/labourapp/labourReq"),r=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rating",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"desc";try{const o=encodeURIComponent(e),c="".concat(n,"/findByCategory?category=").concat(o);console.log(c),console.log("Pagination params:",{pageNumber:s,pageSize:a,sortBy:r,sortOrder:l});return(await t.A.post(c,{pageNumber:s,pageSize:a,sortBy:r,sortOrder:l},{headers:{"Content-Type":"application/json"}})).data}catch(i){var o,c;throw new Error((null===(o=i.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||"Failed to fetch labor search results")}}},3387:(e,s,a)=>{a.d(s,{DU:()=>o,DY:()=>r,Lx:()=>l,hG:()=>c});var t=a(9722);const n="".concat("http://localhost:4000","/labourapp"),r=async(e,s)=>{try{const a="".concat(n,"/auth/registerUser?otp=").concat(s);return(await t.A.post(a,e,{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})).data}catch(r){var a;throw(null===(a=r.response)||void 0===a?void 0:a.data)||r.message}},l=async e=>{let{mobileNumber:s,otp:a}=e;try{const e="".concat(n,"/auth/userLogin?otp=").concat(a);return(await t.A.post(e,{mobileNumber:s},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})).data}catch(l){var r;throw(null===(r=l.response)||void 0===r?void 0:r.data)||l.message}},o=async(e,s)=>{try{const a="".concat(n,"/auth/requestOTP");return(await t.A.post(a,{mobile:e,role:s},{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})).data}catch(r){var a;throw(null===(a=r.response)||void 0===a?void 0:a.data)||r.message}},c=async e=>{try{const s="".concat(n,"/admin/removeUser/").concat(e);return(await t.A.delete(s,{headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0})).data}catch(a){var s;throw(null===(s=a.response)||void 0===s?void 0:s.data)||a.message}}},9539:(e,s,a)=>{a.d(s,{n:()=>r});var t=a(9722);const n="".concat("http://localhost:4000","/labourapp"),r={getRequestedServices:async e=>{try{const s="".concat(n,"/labour/showRequestedServices/").concat(e);return(await t.A.get(s)).data}catch(s){throw s}},getReviews:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"reviewTime",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";try{const r="".concat(n,"/labour/showMyReviews/").concat(e,"?sortBy=").concat(s,"&sortOrder=").concat(a),l=localStorage.getItem("user"),o=localStorage.getItem("token")||localStorage.getItem("authToken"),c={};if(o)c.Authorization="Bearer ".concat(o);else if(l){const e=JSON.parse(l);e.token&&(c.Authorization="Bearer ".concat(e.token))}const i=await t.A.get(r,{headers:c});if(i.data.hasError)throw new Error(i.data.message||"Failed to fetch reviews");return i.data.returnValue||[]}catch(r){return console.error("Reviews API error:",r.message),[]}},getOverallRatings:async e=>{try{const s="".concat(n,"/labour/showMyRatings/").concat(e);return(await t.A.get(s)).data}catch(s){throw s}},updateBookingStatus:async(e,s,a)=>{try{const r="".concat(n,"/labour/setBookingStatus?labourId=").concat(e,"&bookingId=").concat(s,"&bookingStatusCode=").concat(a);return(await t.A.get(r)).data}catch(r){throw r}},showRequestedServices:async e=>{try{const s="".concat(n,"/labour/showRequestedServices/").concat(e);return(await t.A.get(s)).data}catch(s){throw s}},getLabourById:async e=>{try{const s="".concat(n,"/labourReq/getLabourById/").concat(e),a=await t.A.get(s);if(a.data.hasError)throw new Error(a.data.message||"Failed to fetch labour details");return a.data.returnValue}catch(s){throw s}},registerLabour:async(e,s)=>{try{const a="".concat(n,"/auth/registerLabour?otp=").concat(s);return(await t.A.post(a,e)).data}catch(r){var a;throw(null===(a=r.response)||void 0===a?void 0:a.data)||r.message}},loginLabour:async(e,s)=>{try{const a="".concat(n,"/auth/labourLogin?mobileNumber=").concat(e,"&otp=").concat(s);return(await t.A.get(a)).data}catch(r){var a;throw(null===(a=r.response)||void 0===a?void 0:a.data)||r.message}},requestOTP:async(e,s)=>{try{const a="".concat(n,"/auth/requestOTP");return(await t.A.post(a,{mobile:e,role:s})).data}catch(r){var a;throw(null===(a=r.response)||void 0===a?void 0:a.data)||r.message}},deleteLabour:async e=>{try{const s="".concat(n,"/admin/removeLabour/").concat(e);return(await t.A.delete(s)).data}catch(a){var s;throw(null===(s=a.response)||void 0===s?void 0:s.data)||a.message}},updateLabourDetails:async e=>{try{const s="".concat(n,"/labour/updateLabourDetails");return(await t.A.patch(s,e)).data}catch(a){var s;throw(null===(s=a.response)||void 0===s?void 0:s.data)||a.message}}}},9793:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Xe});var t=a(5043),n=a(1587),r=a(3722),l=a(4282),o=a(4063),c=a(8628),i=a(1072),d=a(8602),m=a(3519),u=a(7994),h=a(7417),x=a(9379),g=a(45),p=a(8139),b=a.n(p),j=a(3818),v=a(3043),f=a(6350),N=a(4696),y=a(8843),w=a(9753),A=a(8894);const k=t.createContext(null);var C=a(8457),S=a(2188),I=a(5970),P=a(5978),T=a(579);const z=["children","usePopper"];const E=()=>{};function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,t.useContext)(k),[a,n]=(0,C.A)(),r=(0,t.useRef)(!1),{flip:l,offset:o,rootCloseEvent:c,fixed:i=!1,placement:d,popperConfig:m={},enableEventListeners:u=!0,usePopper:h=!!s}=e,x=null==(null==s?void 0:s.show)?!!e.show:s.show;x&&!r.current&&(r.current=!0);const{placement:g,setMenu:p,menuElement:b,toggleElement:j}=s||{},v=(0,S.A)(j,b,(0,P.Ay)({placement:d||g||"bottom-start",enabled:h,enableEvents:null==u?x:u,offset:o,flip:l,fixed:i,arrowElement:a,popperConfig:m})),f=Object.assign({ref:p||E,"aria-labelledby":null==j?void 0:j.id},v.attributes.popper,{style:v.styles.popper}),N={show:x,placement:g,hasShown:r.current,toggle:null==s?void 0:s.toggle,popper:h?v:null,arrowProps:h?Object.assign({ref:n},v.attributes.arrow,{style:v.styles.arrow}):{}};return(0,I.A)(b,(e=>{null==s||s.toggle(!1,e)}),{clickTrigger:c,disabled:!x}),[f,N]}function R(e){let{children:s,usePopper:a=!0}=e,t=function(e,s){if(null==e)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(s.indexOf(t)>=0)continue;a[t]=e[t]}return a}(e,z);const[n,r]=D(Object.assign({},t,{usePopper:a}));return(0,T.jsx)(T.Fragment,{children:s(n,r)})}R.displayName="DropdownMenu";const O=R;var B=a(60);const F=e=>{var s;return"menu"===(null==(s=e.getAttribute("role"))?void 0:s.toLowerCase())},L=()=>{};function M(){const e=(0,B.Cc)(),{show:s=!1,toggle:a=L,setToggle:n,menuElement:r}=(0,t.useContext)(k)||{},l=(0,t.useCallback)((e=>{a(!s,e)}),[s,a]),o={id:e,ref:n||L,onClick:l,"aria-expanded":!!s};return r&&F(r)&&(o["aria-haspopup"]=!0),[o,{show:s,toggle:a}]}function U(e){let{children:s}=e;const[a,t]=M();return(0,T.jsx)(T.Fragment,{children:s(a,t)})}U.displayName="DropdownToggle";const q=U;var K=a(5901),H=a(9048),V=a(4140),Z=a(5425);const _=["eventKey","disabled","onClick","active","as"];function W(e){let{key:s,href:a,active:n,disabled:r,onClick:l}=e;const o=(0,t.useContext)(K.A),c=(0,t.useContext)(H.A),{activeKey:i}=c||{},d=(0,K.u)(s,a),m=null==n&&null!=s?(0,K.u)(i)===d:n;return[{onClick:(0,A.A)((e=>{r||(null==l||l(e),o&&!e.isPropagationStopped()&&o(d,e))})),"aria-disabled":r||void 0,"aria-selected":m,[(0,Z.sE)("dropdown-item")]:""},{isActive:m}]}const X=t.forwardRef(((e,s)=>{let{eventKey:a,disabled:t,onClick:n,active:r,as:l=V.Ay}=e,o=function(e,s){if(null==e)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(s.indexOf(t)>=0)continue;a[t]=e[t]}return a}(e,_);const[c]=W({key:a,href:o.href,disabled:t,onClick:n,active:r});return(0,T.jsx)(l,Object.assign({},o,{ref:s},c))}));X.displayName="DropdownItem";const Y=X;var G=a(1701);function J(){const e=(0,y.A)(),s=(0,t.useRef)(null),a=(0,t.useCallback)((a=>{s.current=a,e()}),[e]);return[s,a]}function $(e){let{defaultShow:s,show:a,onSelect:n,onToggle:r,itemSelector:l="* [".concat((0,Z.sE)("dropdown-item"),"]"),focusFirstItemOnShow:o,placement:c="bottom-start",children:i}=e;const d=(0,G.A)(),[m,u]=(0,f.iC)(a,s,r),[h,x]=J(),g=h.current,[p,b]=J(),y=p.current,C=(0,N.A)(m),S=(0,t.useRef)(null),I=(0,t.useRef)(!1),P=(0,t.useContext)(K.A),z=(0,t.useCallback)((function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==s?void 0:s.type;u(e,{originalEvent:s,source:a})}),[u]),E=(0,A.A)(((e,s)=>{null==n||n(e,s),z(!1,s,"select"),s.isPropagationStopped()||null==P||P(e,s)})),D=(0,t.useMemo)((()=>({toggle:z,placement:c,show:m,menuElement:g,toggleElement:y,setMenu:x,setToggle:b})),[z,c,m,g,y,x,b]);g&&C&&!m&&(I.current=g.contains(g.ownerDocument.activeElement));const R=(0,A.A)((()=>{y&&y.focus&&y.focus()})),O=(0,A.A)((()=>{const e=S.current;let s=o;if(null==s&&(s=!(!h.current||!F(h.current))&&"keyboard"),!1===s||"keyboard"===s&&!/^key.+$/.test(e))return;const a=(0,j.A)(h.current,l)[0];a&&a.focus&&a.focus()}));(0,t.useEffect)((()=>{m?O():I.current&&(I.current=!1,R())}),[m,I,R,O]),(0,t.useEffect)((()=>{S.current=null}));const B=(e,s)=>{if(!h.current)return null;const a=(0,j.A)(h.current,l);let t=a.indexOf(e)+s;return t=Math.max(0,Math.min(t,a.length)),a[t]};return(0,w.A)((0,t.useCallback)((()=>d.document),[d]),"keydown",(e=>{var s,a;const{key:t}=e,n=e.target,r=null==(s=h.current)?void 0:s.contains(n),l=null==(a=p.current)?void 0:a.contains(n);if(/input|textarea/i.test(n.tagName)&&(" "===t||"Escape"!==t&&r||"Escape"===t&&"search"===n.type))return;if(!r&&!l)return;if("Tab"===t&&(!h.current||!m))return;S.current=e.type;const o={originalEvent:e,source:e.type};switch(t){case"ArrowUp":{const s=B(n,-1);return s&&s.focus&&s.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),m){const e=B(n,1);e&&e.focus&&e.focus()}else u(!0,o);return;case"Tab":(0,v.Ay)(n.ownerDocument,"keyup",(e=>{var s;("Tab"!==e.key||e.target)&&null!=(s=h.current)&&s.contains(e.target)||u(!1,o)}),{once:!0});break;case"Escape":"Escape"===t&&(e.preventDefault(),e.stopPropagation()),u(!1,o)}})),(0,T.jsx)(K.A.Provider,{value:E,children:(0,T.jsx)(k.Provider,{value:D,children:i})})}$.displayName="Dropdown",$.Menu=O,$.Toggle=q,$.Item=Y;const Q=$;var ee=a(7121),se=a(6618);const ae=t.createContext({});ae.displayName="DropdownContext";const te=ae;var ne=a(7852);const re=["className","bsPrefix","as","role"],le=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n="hr",role:r="separator"}=e,l=(0,g.A)(e,re);return t=(0,ne.oU)(t,"dropdown-divider"),(0,T.jsx)(n,(0,x.A)({ref:s,className:b()(a,t),role:r},l))}));le.displayName="DropdownDivider";const oe=le,ce=["className","bsPrefix","as","role"],ie=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n="div",role:r="heading"}=e,l=(0,g.A)(e,ce);return t=(0,ne.oU)(t,"dropdown-header"),(0,T.jsx)(n,(0,x.A)({ref:s,className:b()(a,t),role:r},l))}));ie.displayName="DropdownHeader";const de=ie;var me=a(7071);const ue=["bsPrefix","className","eventKey","disabled","onClick","active","as"],he=t.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,eventKey:n,disabled:r=!1,onClick:l,active:o,as:c=me.A}=e,i=(0,g.A)(e,ue);const d=(0,ne.oU)(a,"dropdown-item"),[m,u]=W({key:n,href:i.href,disabled:r,onClick:l,active:o});return(0,T.jsx)(c,(0,x.A)((0,x.A)((0,x.A)({},i),m),{},{ref:s,className:b()(t,d,u.isActive&&"active",r&&"disabled")}))}));he.displayName="DropdownItem";const xe=he,ge=["className","bsPrefix","as"],pe=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:n="span"}=e,r=(0,g.A)(e,ge);return t=(0,ne.oU)(t,"dropdown-item-text"),(0,T.jsx)(n,(0,x.A)({ref:s,className:b()(a,t)},r))}));pe.displayName="DropdownItemText";const be=pe;var je=a(4723),ve=a(8293),fe=(a(6440),a(9334)),Ne=a(9125);a(2740);function ye(e,s){return e}const we=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function Ae(e,s,a){let t=e?a?"bottom-start":"bottom-end":a?"bottom-end":"bottom-start";return"up"===s?t=e?a?"top-start":"top-end":a?"top-end":"top-start":"end"===s?t=e?a?"left-end":"right-end":a?"left-start":"right-start":"start"===s?t=e?a?"right-end":"left-end":a?"right-start":"left-start":"down-centered"===s?t="bottom":"up-centered"===s&&(t="top"),t}const ke=t.forwardRef(((e,s)=>{let{bsPrefix:a,className:n,align:r,rootCloseEvent:l,flip:o=!0,show:c,renderOnMount:i,as:d="div",popperConfig:m,variant:u}=e,h=(0,g.A)(e,we),p=!1;const j=(0,t.useContext)(Ne.A),v=(0,ne.oU)(a,"dropdown-menu"),{align:f,drop:N,isRTL:y}=(0,t.useContext)(te);r=r||f;const w=(0,t.useContext)(fe.A),A=[];if(r)if("object"===typeof r){const e=Object.keys(r);if(e.length){const s=e[0],a=r[s];p="start"===a,A.push("".concat(v,"-").concat(s,"-").concat(a))}}else"end"===r&&(p=!0);const k=Ae(p,N,y),[C,{hasShown:S,popper:I,show:P,toggle:z}]=D({flip:o,rootCloseEvent:l,show:c,usePopper:!j&&0===A.length,offset:[0,2],popperConfig:m,placement:k});if(C.ref=(0,ve.A)(ye(s),C.ref),(0,je.A)((()=>{P&&(null==I||I.update())}),[P]),!S&&!i&&!w)return null;"string"!==typeof d&&(C.show=P,C.close=()=>null==z?void 0:z(!1),C.align=r);let E=h.style;return null!=I&&I.placement&&(E=(0,x.A)((0,x.A)({},h.style),C.style),h["x-placement"]=I.placement),(0,T.jsx)(d,(0,x.A)((0,x.A)((0,x.A)((0,x.A)({},h),C),{},{style:E},(A.length||j)&&{"data-bs-popper":"static"}),{},{className:b()(n,v,P&&"show",p&&"".concat(v,"-end"),u&&"".concat(v,"-").concat(u),...A)}))}));ke.displayName="DropdownMenu";const Ce=ke,Se=["bsPrefix","split","className","childBsPrefix","as"],Ie=t.forwardRef(((e,s)=>{let{bsPrefix:a,split:n,className:r,childBsPrefix:o,as:c=l.A}=e,i=(0,g.A)(e,Se);const d=(0,ne.oU)(a,"dropdown-toggle"),m=(0,t.useContext)(k);void 0!==o&&(i.bsPrefix=o);const[u]=M();return u.ref=(0,ve.A)(u.ref,ye(s)),(0,T.jsx)(c,(0,x.A)((0,x.A)({className:b()(r,d,n&&"".concat(d,"-split"),(null==m?void 0:m.show)&&"show")},u),i))}));Ie.displayName="DropdownToggle";const Pe=Ie,Te=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],ze=t.forwardRef(((e,s)=>{const a=(0,ee.Zw)(e,{show:"onToggle"}),{bsPrefix:n,drop:r="down",show:l,className:o,align:c="start",onSelect:i,onToggle:d,focusFirstItemOnShow:m,as:u="div",navbar:h,autoClose:p=!0}=a,j=(0,g.A)(a,Te),v=(0,t.useContext)(fe.A),f=(0,ne.oU)(n,"dropdown"),N=(0,ne.Wz)(),y=(0,se.A)(((e,s)=>{var a;var t;(null==(a=s.originalEvent)||null==(a=a.target)?void 0:a.classList.contains("dropdown-toggle"))&&"mousedown"===s.source||(s.originalEvent.currentTarget!==document||"keydown"===s.source&&"Escape"!==s.originalEvent.key||(s.source="rootClose"),t=s.source,(!1===p?"click"===t:"inside"===p?"rootClose"!==t:"outside"!==p||"select"!==t)&&(null==d||d(e,s)))})),w=Ae("end"===c,r,N),A=(0,t.useMemo)((()=>({align:c,drop:r,isRTL:N})),[c,r,N]),k={down:f,"down-centered":"".concat(f,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,T.jsx)(te.Provider,{value:A,children:(0,T.jsx)(Q,{placement:w,show:l,onSelect:i,onToggle:y,focusFirstItemOnShow:m,itemSelector:".".concat(f,"-item:not(.disabled):not(:disabled)"),children:v?j.children:(0,T.jsx)(u,(0,x.A)((0,x.A)({},j),{},{ref:s,className:b()(o,l&&"show",k[r])}))})})}));ze.displayName="Dropdown";const Ee=Object.assign(ze,{Toggle:Pe,Menu:Ce,Item:xe,ItemText:be,Divider:oe,Header:de});var De=a(1719),Re=a(9869),Oe=a(615),Be=a(3216),Fe=a(3204),Le=a(3079),Me=a(9722);const Ue="".concat("http://localhost:4000","/labourapp/user");var qe=a(7828),Ke=a(6581),He=a(4298);a(9539);const Ve=e=>{let{show:s,onHide:a,searchResults:r,error:i,searchCategory:d,onPageChange:m,userId:u,userMobileNumber:x}=e;const g=(0,Be.Zp)(),[p,b]=(0,t.useState)(null),[j,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{if(p&&"success"===p.type){const e=setTimeout((()=>b(null)),3e3);return()=>clearTimeout(e)}}),[p]);const f=async e=>{try{v(!0),b(null);const s=localStorage.getItem("user");if(!s)throw new Error("User data not found. Please login again.");const a={userId:JSON.parse(s).userId,labourId:e.labourId};await(async e=>{try{const s="".concat(Ue,"/bookLabour");return(await Me.A.post(s,e,{headers:{"Content-Type":"application/json"}})).data}catch(i){var s,a;throw new Error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to book labour")}})(a);b({type:"success",message:"Labour booked successfully!"})}catch(s){b({type:"danger",message:s.message||"Failed to book labour. Please try again."})}finally{v(!1)}},N=e=>{m(e-1,r.pageSize)};return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(n.A,{show:s,onHide:a,size:"xl",children:[(0,T.jsx)(qe.A,{closeButton:!0,children:(0,T.jsxs)(n.A.Title,{children:['Search Results for "',d,'"']})}),(0,T.jsxs)(Ke.A,{children:[i&&(0,T.jsx)(De.A,{variant:"danger",role:"alert",children:i}),p&&(0,T.jsx)(De.A,{variant:p.type,onClose:()=>b(null),dismissible:!0,children:p.message}),(0,T.jsx)("div",{className:"search-results-content",children:r.content&&r.content.length>0?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"mb-3",children:(0,T.jsxs)("small",{className:"text-muted",children:["Showing ",r.content.length," of ",r.totalElements," results"]})}),(0,T.jsx)("div",{className:"labour-cards-container",children:r.content.map((e=>(0,T.jsx)(c.A,{className:"labour-card mb-3",onClick:()=>(e=>{g("/labour-details/".concat(e.labourId))})(e),children:(0,T.jsxs)(c.A.Body,{className:"p-3",children:[(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center",children:[(0,T.jsx)("div",{className:"labour-avatar me-3",children:(0,T.jsx)(Fe.x$1,{className:"text-primary",size:24})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("h6",{className:"mb-1 fw-bold text-primary",children:e.labourName}),(0,T.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,T.jsx)(Fe.xdT,{className:"me-1",size:12}),(0,T.jsx)("small",{children:e.labourSkill})]})]})]}),(0,T.jsx)("div",{className:"text-end",children:e.rating&&parseFloat(e.rating)>0?(0,T.jsxs)("div",{className:"d-flex align-items-center justify-content-end mb-1",children:[(0,T.jsx)(Fe.gt3,{className:"text-warning me-1",size:14}),(0,T.jsx)("span",{className:"fw-bold",children:e.rating}),(0,T.jsxs)("small",{className:"text-muted ms-1",children:["(",e.ratingCount||0,")"]})]}):(0,T.jsx)(o.A,{bg:"secondary",className:"mb-1",children:"No Ratings"})})]}),(0,T.jsxs)("div",{className:"row g-2 mb-3",children:[(0,T.jsx)("div",{className:"col-6",children:(0,T.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,T.jsx)(Fe.Cab,{className:"me-2",size:12}),(0,T.jsx)("small",{children:e.labourMobileNo})]})}),(0,T.jsx)("div",{className:"col-6",children:(0,T.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,T.jsx)(Fe.vq8,{className:"me-2",size:12}),(0,T.jsx)("small",{children:e.labourAddress||"Location not specified"})]})})]}),(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,T.jsxs)(l.A,{variant:"outline-primary",size:"sm",onClick:s=>{s.stopPropagation(),window.location.href="tel:".concat(e.labourMobileNo)},className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.Cab,{className:"me-1"}),"Call Now"]}),(0,T.jsx)(l.A,{variant:"success",size:"sm",onClick:s=>{s.stopPropagation(),f(e)},disabled:j,className:"d-flex align-items-center",children:j?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(h.A,{animation:"border",size:"sm",className:"me-1"}),"Booking..."]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Fe.bfZ,{className:"me-1"}),"Book Now"]})})]})]})},e.labourId)))}),r.totalPages>1&&(0,T.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,T.jsxs)("div",{className:"pagination-container",children:[(0,T.jsx)(l.A,{variant:"outline-primary",size:"sm",disabled:0===r.pageNumber,onClick:()=>N(r.pageNumber),children:"Previous"}),(0,T.jsxs)("span",{className:"mx-3 align-self-center",children:["Page ",r.pageNumber+1," of ",r.totalPages]}),(0,T.jsx)(l.A,{variant:"outline-primary",size:"sm",disabled:r.pageNumber>=r.totalPages-1,onClick:()=>N(r.pageNumber+2),children:"Next"})]})})]}):(0,T.jsx)("div",{className:"text-center py-5",children:(0,T.jsxs)("div",{className:"empty-results-alert",children:[(0,T.jsx)("div",{className:"empty-results-icon mb-3",children:(0,T.jsx)(Fe.xdT,{className:"text-muted",size:48})}),(0,T.jsxs)("h5",{className:"text-muted mb-2",children:["Requested services for ",(0,T.jsxs)("span",{className:"text-primary fw-bold",children:['"',d,'"']})," not available"]}),(0,T.jsx)("p",{className:"text-muted mb-3",children:"We apologize, but we couldn't find any skilled professionals for this service in your area at the moment."}),(0,T.jsxs)("div",{className:"empty-results-suggestions",children:[(0,T.jsx)("p",{className:"text-muted small mb-2",children:"You can try:"}),(0,T.jsxs)("ul",{className:"text-muted small text-start",children:[(0,T.jsx)("li",{children:"Checking back later for new professionals"}),(0,T.jsx)("li",{children:"Searching for a different service category"}),(0,T.jsx)("li",{children:"Expanding your search area"})]})]})]})})})]}),(0,T.jsx)(He.A,{children:(0,T.jsx)(l.A,{variant:"secondary",onClick:a,children:"Close"})})]})})};var Ze=a(3387);const _e=e=>{let{show:s,onHide:a,onSubmit:o,initialRating:c=0,initialReview:i=""}=e;const[d,m]=(0,t.useState)(c),[u,h]=(0,t.useState)(i),x=e=>{e&&e.preventDefault&&e.preventDefault(),o(d,u)};return(0,T.jsxs)(n.A,{show:s,onHide:a,backdrop:"static",keyboard:!1,centered:!0,children:[(0,T.jsx)(n.A.Header,{closeButton:!0,children:(0,T.jsx)(n.A.Title,{children:"Rate Service"})}),(0,T.jsx)(n.A.Body,{children:(0,T.jsxs)(r.A,{onSubmit:x,children:[(0,T.jsxs)(r.A.Group,{className:"mb-3",children:[(0,T.jsx)(r.A.Label,{children:"Rating"}),(0,T.jsxs)("div",{className:"d-flex align-items-center",children:[[1,2,3,4,5].map((e=>(0,T.jsx)(Fe.gt3,{className:"me-1",style:{cursor:"pointer",color:e<=d?"#ffc107":"#e4e5e9"},onClick:()=>m(e)},e))),(0,T.jsxs)("span",{className:"ms-2",children:[d,"/5"]})]})]}),(0,T.jsxs)(r.A.Group,{className:"mb-3",children:[(0,T.jsx)(r.A.Label,{children:"Review"}),(0,T.jsx)(r.A.Control,{as:"textarea",rows:3,value:u,onChange:e=>h(e.target.value),placeholder:"Write your review here..."})]})]})}),(0,T.jsxs)(n.A.Footer,{children:[(0,T.jsx)(l.A,{variant:"secondary",onClick:a,children:"Cancel"}),(0,T.jsx)(l.A,{variant:"primary",onClick:x,children:"Submit Review"})]})]})},We=e=>{let{booking:s,onRate:a,onCall:t}=e;return(0,T.jsx)(c.A,{className:"booking-card border-0 shadow-sm mb-3",children:(0,T.jsx)(c.A.Body,{className:"p-4",children:(0,T.jsxs)(i.A,{className:"align-items-center",children:[(0,T.jsxs)(d.A,{md:6,children:[(0,T.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,T.jsx)("div",{className:"service-icon bg-primary bg-opacity-10 rounded-circle p-3 me-3",children:(0,T.jsx)(Fe.xdT,{className:"text-primary",size:20})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("h5",{className:"mb-1 fw-semibold",children:s.labourName||"Unknown Labour"}),(0,T.jsx)("p",{className:"text-muted mb-0",children:s.labourSkill||"Service"})]})]}),(0,T.jsxs)("div",{className:"d-flex align-items-center text-muted mb-2",children:[(0,T.jsx)(Fe.bfZ,{className:"me-2",size:14}),(0,T.jsx)("span",{className:"small",children:(e=>{if(!e)return"Invalid Date";const s=e.match(/(\d{2})-(\d{2})-(\d{4}) (\d{2}):(\d{2}):(\d{2})/);if(s){const e=parseInt(s[3],10),a=parseInt(s[2],10)-1,t=parseInt(s[1],10),n=parseInt(s[4],10),r=parseInt(s[5],10),l=new Date(e,a,t,n,r);if(!isNaN(l.getTime()))return l.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}return"Invalid Date"})(s.bookingTime)})]}),(0,T.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,T.jsx)(Fe.AWX,{className:"me-2",size:14}),(0,T.jsxs)("span",{className:"small",children:["Booking ID: ",s.bookingId]})]})]}),(0,T.jsx)(d.A,{md:6,children:(0,T.jsxs)("div",{className:"d-flex justify-content-end align-items-center flex-wrap gap-2",children:[(e=>{switch(e){case-1:return(0,T.jsxs)(o.A,{bg:"danger",className:"px-3 py-2",children:[(0,T.jsx)(Fe._Hm,{className:"me-1"})," Rejected"]});case 1:return(0,T.jsxs)(o.A,{bg:"warning",className:"px-3 py-2",children:[(0,T.jsx)(Fe.w_X,{className:"me-1"})," Pending"]});case 2:return(0,T.jsxs)(o.A,{bg:"primary",className:"px-3 py-2",children:[(0,T.jsx)(Fe.A7C,{className:"me-1"})," Accepted"]});case 3:return(0,T.jsxs)(o.A,{bg:"success",className:"px-3 py-2",children:[(0,T.jsx)(Fe.A7C,{className:"me-1"})," Completed"]});default:return(0,T.jsxs)(o.A,{bg:"secondary",className:"px-3 py-2",children:[(0,T.jsx)(Fe.w_X,{className:"me-1"})," Unknown"]})}})(s.bookingStatusCode),(0,T.jsxs)("div",{className:"d-flex gap-2",children:[s.labourMobileNo&&(0,T.jsxs)(l.A,{variant:"outline-primary",size:"sm",onClick:()=>t(s.labourMobileNo),className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.Cab,{className:"me-1",size:12}),"Call"]}),3===s.bookingStatusCode&&(0,T.jsxs)(l.A,{variant:"outline-success",size:"sm",onClick:()=>a(s),className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.uO9,{className:"me-1",size:12}),"Review"]})]})]})})]})})})},Xe=()=>{const e=(0,Be.Zp)(),[s,a]=(0,t.useState)(null),[n,x]=(0,t.useState)(!1),[g,p]=(0,t.useState)({content:[],pageNumber:0,pageSize:10,totalElements:0,totalPages:0,lastPage:!1}),[b,j]=(0,t.useState)(!1),[v,f]=(0,t.useState)(null),[N,y]=(0,t.useState)(""),[w,A]=(0,t.useState)(null),[k,C]=(0,t.useState)([]),[S,I]=(0,t.useState)(!1),[P,z]=(0,t.useState)(null),[E,D]=(0,t.useState)(!1),[R,O]=(0,t.useState)(null),[B,F]=(0,t.useState)("all");(0,t.useEffect)((()=>{const s=localStorage.getItem("userData")||localStorage.getItem("user");if(s){const e=JSON.parse(s);a(e);const t=e.userId||e.id;A(t),t?L(t):console.error("No userId found in user data:",e)}else e("/login")}),[e]);const L=async e=>{I(!0),z(null);try{const s=await(async e=>{try{const s="".concat(Ue,"/viewMyBookings/").concat(e);return(await Me.A.get(s)).data}catch(v){var s,a;throw new Error((null===(s=v.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to fetch bookings")}})(e);C(s.returnValue||[])}catch(v){console.error("Error fetching bookings:",v),z("Failed to load bookings. Please try again.")}finally{I(!1)}},M=e=>{window.open("tel:".concat(e),"_self")},U=e=>{O(e),D(!0)},q=()=>{let e=k;if("all"!==B){const s={pending:1,accepted:2,completed:3,rejected:-1};e=k.filter((e=>e.bookingStatusCode===s[B]))}return e.sort(((e,s)=>{const a=e=>{if(!e)return new Date(0);const s=e.match(/(\d{2})-(\d{2})-(\d{4}) (\d{2}):(\d{2}):(\d{2})/);if(s){const e=parseInt(s[3],10),a=parseInt(s[2],10)-1,t=parseInt(s[1],10),n=parseInt(s[4],10),r=parseInt(s[5],10),l=parseInt(s[6],10);return new Date(e,a,t,n,r,l)}return new Date(0)},t=a(e.bookingTime);return a(s.bookingTime).getTime()-t.getTime()}))},K=()=>({total:k.length,pending:k.filter((e=>1===e.bookingStatusCode)).length,completed:k.filter((e=>3===e.bookingStatusCode)).length,rejected:k.filter((e=>-1===e.bookingStatusCode)).length}),H=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rating",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc";if(N.trim())try{j(!0),f("");const n=await(0,Le.D)(N,e,s,a,t);p(n),x(!0)}catch(n){f(n.message||"Failed to fetch search results. Please try again."),console.error("Search error:",n)}finally{j(!1)}else f("Please enter a category to search")};return(0,T.jsxs)(m.A,{fluid:!0,className:"dashboard-container bg-light min-vh-100",children:[(0,T.jsx)("div",{className:"dashboard-header bg-gradient-primary shadow-lg border-0",children:(0,T.jsx)(m.A,{children:(0,T.jsx)(i.A,{className:"py-4",children:(0,T.jsx)(d.A,{children:(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center",children:[(0,T.jsx)("div",{className:"profile-badge me-4",children:(0,T.jsx)("div",{className:"avatar-professional bg-white shadow-sm",children:(0,T.jsx)(Fe.p7b,{className:"text-primary",size:28})})}),(0,T.jsxs)("div",{className:"user-info",children:[(0,T.jsxs)("h1",{className:"h3 mb-2 fw-bold text-white",children:["Welcome back, ",(null===s||void 0===s?void 0:s.name)||"User","!"]}),(0,T.jsxs)("div",{className:"d-flex flex-wrap align-items-center text-white-50 mb-2",children:[(0,T.jsxs)("div",{className:"d-flex align-items-center me-4 mb-1",children:[(0,T.jsx)(Fe.AWX,{className:"me-2",size:14}),(0,T.jsxs)("span",{className:"small",children:["ID: ",null===s||void 0===s?void 0:s.userId]})]}),(0,T.jsxs)("div",{className:"d-flex align-items-center me-4 mb-1",children:[(0,T.jsx)(Fe.maD,{className:"me-2",size:14}),(0,T.jsx)("span",{className:"small",children:(null===s||void 0===s?void 0:s.email)||"user@example.com"})]}),(0,T.jsxs)(o.A,{bg:"success",className:"mb-1 px-3 py-1",children:[(0,T.jsx)(Fe.A7C,{className:"me-1",size:12}),"Active User"]})]}),(0,T.jsxs)("div",{className:"d-flex align-items-center text-white-50",children:[(0,T.jsx)(Fe.bfZ,{className:"me-2",size:12}),(0,T.jsxs)("span",{className:"small",children:["Member since ",(new Date).getFullYear()]})]})]})]}),(0,T.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,T.jsxs)(l.A,{variant:"light",className:"d-flex align-items-center shadow-sm",onClick:()=>{const e=document.querySelector(".my-bookings-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,T.jsx)(Fe.OKX,{className:"me-2",size:14}),"My Bookings"]}),(0,T.jsxs)(l.A,{variant:"outline-light",onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("userData"),localStorage.removeItem("rememberedEmail"),e("/login")},className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.axc,{className:"me-2",size:14}),"Logout"]})]})]})})})})}),(0,T.jsxs)(m.A,{className:"py-4",children:[(0,T.jsx)(i.A,{className:"mb-4",children:(0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{className:"border-0 shadow-sm",children:(0,T.jsxs)(c.A.Body,{className:"p-4",children:[(0,T.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,T.jsxs)("h4",{className:"mb-0 fw-bold text-dark",children:[(0,T.jsx)(Fe.KSO,{className:"me-2 text-primary"}),"Find Services"]}),(0,T.jsxs)(o.A,{bg:"primary",className:"px-3 py-2",children:[(0,T.jsx)(Fe.xdT,{className:"me-1",size:12}),"Quick Search"]})]}),(0,T.jsxs)(i.A,{className:"align-items-center",children:[(0,T.jsx)(d.A,{lg:8,children:(0,T.jsxs)(r.A.Group,{className:"mb-3 mb-lg-0",children:[(0,T.jsx)(r.A.Label,{className:"fw-semibold text-dark mb-2",children:"What service do you need?"}),(0,T.jsxs)(u.A,{size:"lg",children:[(0,T.jsx)(u.A.Text,{className:"bg-light border-end-0",children:(0,T.jsx)(Fe.KSO,{className:"text-muted"})}),(0,T.jsx)(r.A.Control,{placeholder:"Enter category (e.g., plumber, electrician, cleaner)",value:N,onChange:e=>y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),H())},className:"border-start-0 border-end-0 bg-light"}),(0,T.jsx)(l.A,{variant:"primary",onClick:()=>H(),disabled:b,className:"px-4",children:b?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(h.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Searching..."]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Fe.KSO,{className:"me-2"}),"Search Now"]})})]}),v&&(0,T.jsxs)("div",{className:"text-danger small mt-2",children:[(0,T.jsx)(Fe.jNV,{className:"me-1"}),v]})]})}),(0,T.jsx)(d.A,{lg:4,children:(0,T.jsx)("div",{className:"text-center text-lg-start",children:(0,T.jsxs)("div",{className:"d-flex flex-column align-items-center align-items-lg-start",children:[(0,T.jsx)("div",{className:"text-muted small mb-2",children:"Popular Categories"}),(0,T.jsx)("div",{className:"d-flex flex-wrap gap-2",children:["Plumber","Electrician","Cleaner","Carpenter"].map((e=>(0,T.jsx)(o.A,{bg:"light",text:"dark",className:"px-3 py-2 cursor-pointer",style:{cursor:"pointer"},onClick:()=>{y(e),H()},children:e},e)))})]})})})]})]})})})}),(0,T.jsxs)(i.A,{className:"mb-4",children:[(0,T.jsx)(d.A,{md:6,className:"mb-3",children:(0,T.jsx)(c.A,{className:"action-card border-0 shadow-sm h-100",children:(0,T.jsxs)(c.A.Body,{className:"p-4 text-center",children:[(0,T.jsx)("div",{className:"action-icon bg-success bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"},children:(0,T.jsx)(Fe.bfZ,{className:"text-success",size:24})}),(0,T.jsx)("h5",{className:"fw-semibold mb-2",children:"Track Bookings"}),(0,T.jsx)("p",{className:"text-muted small mb-3",children:"Monitor your service requests and appointments"}),(0,T.jsxs)(l.A,{variant:"success",className:"w-100",onClick:()=>{const e=document.querySelector(".my-bookings-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},children:[(0,T.jsx)(Fe.bfZ,{className:"me-2"}),"View Bookings"]})]})})}),(0,T.jsx)(d.A,{md:6,className:"mb-3",children:(0,T.jsx)(c.A,{className:"action-card border-0 shadow-sm h-100",children:(0,T.jsxs)(c.A.Body,{className:"p-4 text-center",children:[(0,T.jsx)("div",{className:"action-icon bg-warning bg-opacity-10 rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"},children:(0,T.jsx)(Fe.jNV,{className:"text-warning",size:24})}),(0,T.jsx)("h5",{className:"fw-semibold mb-2",children:"Notifications"}),(0,T.jsx)("p",{className:"text-muted small mb-3",children:"Stay updated with service alerts and messages"}),(0,T.jsxs)(l.A,{variant:"outline-warning",className:"w-100",disabled:!0,children:[(0,T.jsx)(Fe.jNV,{className:"me-2"}),"Coming Soon"]})]})})})]}),(0,T.jsx)(i.A,{className:"mb-4",children:(0,T.jsx)(d.A,{children:(0,T.jsxs)(c.A,{className:"border-0 shadow-sm my-bookings-section",children:[(0,T.jsx)(c.A.Header,{className:"bg-white border-0 py-4",children:(0,T.jsxs)(i.A,{className:"align-items-center",children:[(0,T.jsx)(d.A,{children:(0,T.jsxs)("h5",{className:"mb-0 fw-semibold d-flex align-items-center",children:[(0,T.jsx)(Fe.OKX,{className:"me-2 text-primary"}),"My Bookings",k.length>0&&(0,T.jsx)(o.A,{bg:"primary",className:"ms-2",children:K().total})]})}),(0,T.jsx)(d.A,{xs:"auto",children:(0,T.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,T.jsxs)(l.A,{variant:"outline-primary",size:"sm",onClick:()=>L(w),disabled:S,className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.DIg,{className:"me-1 ".concat(S?"fa-spin":""),size:12}),"Refresh"]}),(0,T.jsxs)(Ee,{children:[(0,T.jsxs)(Ee.Toggle,{variant:"outline-secondary",size:"sm",className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.YsJ,{className:"me-1",size:12}),"Filter"]}),(0,T.jsxs)(Ee.Menu,{children:[(0,T.jsxs)(Ee.Item,{active:"all"===B,onClick:()=>F("all"),children:["All Bookings (",K().total,")"]}),(0,T.jsxs)(Ee.Item,{active:"pending"===B,onClick:()=>F("pending"),children:["Pending (",K().pending,")"]}),(0,T.jsxs)(Ee.Item,{active:"completed"===B,onClick:()=>F("completed"),children:["Completed (",K().completed,")"]}),(0,T.jsxs)(Ee.Item,{active:"rejected"===B,onClick:()=>F("rejected"),children:["Rejected (",K().rejected,")"]})]})]})]})})]})}),(0,T.jsx)(c.A.Body,{className:"p-4",children:S?(0,T.jsxs)("div",{className:"text-center py-5",children:[(0,T.jsx)(h.A,{animation:"border",variant:"primary"}),(0,T.jsx)("p",{className:"mt-3 text-muted",children:"Loading your bookings..."})]}):P?(0,T.jsxs)(De.A,{variant:"danger",className:"d-flex align-items-center",children:[(0,T.jsx)(Fe.BS8,{className:"me-2"}),P]}):0===q().length?(0,T.jsxs)("div",{className:"text-center py-5",children:[(0,T.jsx)("div",{className:"empty-state-icon bg-light rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center",style:{width:"80px",height:"80px"},children:(0,T.jsx)(Fe.bfZ,{className:"text-muted",size:32})}),(0,T.jsx)("h6",{className:"text-muted mb-2",children:"all"===B?"No bookings yet":"No ".concat(B," bookings")}),(0,T.jsx)("p",{className:"text-muted small mb-3",children:"all"===B?"Start by searching for services in your area":"You don't have any ".concat(B," bookings at the moment")}),"all"===B&&(0,T.jsxs)(l.A,{variant:"primary",size:"sm",onClick:()=>x(!0),className:"d-flex align-items-center mx-auto",children:[(0,T.jsx)(Fe.KSO,{className:"me-2",size:12}),"Find Services"]})]}):(0,T.jsx)("div",{className:"bookings-list",children:q().map((e=>(0,T.jsx)(We,{booking:e,onRate:U,onCall:M},e.bookingId)))})})]})})}),(0,T.jsx)(i.A,{className:"mb-4",children:(0,T.jsx)(d.A,{children:(0,T.jsx)(c.A,{className:"account-management-card border-0 shadow-sm",children:(0,T.jsxs)(c.A.Body,{className:"p-4",children:[(0,T.jsx)("h6",{className:"text-muted mb-3",children:"Account Management"}),(0,T.jsx)("p",{className:"text-muted small mb-3",children:"Manage your account settings and preferences"}),(0,T.jsx)(Re.A,{placement:"top",overlay:(0,T.jsx)(Oe.A,{children:"This action cannot be undone"}),children:(0,T.jsxs)(l.A,{variant:"outline-danger",size:"sm",className:"delete-profile-btn",onClick:()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{j(!0),await(0,Ze.hG)(s.userId),localStorage.removeItem("user"),localStorage.removeItem("userData"),localStorage.removeItem("rememberedEmail"),alert("Your account has been deleted."),e("/login")}catch(a){alert("Failed to delete account. Please try again.")}finally{j(!1)}})()},children:[(0,T.jsx)(Fe.RCe,{className:"me-2",size:12}),"Delete Account"]})})]})})})})]}),(0,T.jsx)(Ve,{show:n,onHide:()=>x(!1),searchResults:g,error:v,searchCategory:N,onPageChange:H,userId:w}),(0,T.jsx)(_e,{show:E,onHide:()=>{D(!1),O(null)},onSubmit:async(e,s)=>{if(R)try{await(async e=>{try{const s="".concat(Ue,"/rateLabour");return(await Me.A.post(s,e)).data}catch(v){var s,a;throw new Error((null===(s=v.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to rate labour")}})(R.bookingId),D(!1),O(null),L(w)}catch(v){console.error("Error submitting rating:",v),alert("Failed to submit rating. Please try again.")}},initialRating:0,initialReview:""})]})}}}]);
//# sourceMappingURL=793.dbaf8906.chunk.js.map